<!DOCTYPE html>
<meta charset=utf-8>
<title>Sémantika - Dive Into HTML5</title>
<!--[if lt IE 9]><script src=j/html5.js></script><![endif]-->
<link rel=alternate type=application/atom+xml href=https://github.com/diveintomark/diveintohtml5/commits/master.atom>
<link rel=stylesheet href=screen.css>
<style>
body{counter-reset:h1 3}
dl.col dt{float:left;clear:left}
dl.col dd{margin-left:7em}
dl.col dt,dl.col dd{padding-bottom:1.75em}
</style>
<link rel=stylesheet media='only screen and (max-device-width: 480px)' href=mobile.css>
<link rel=prefetch href=index.html>
<p>Navigace: <a href=index.html>Domů</a> <span class=u>&#8227;</span> <a href=table-of-contents.html#semantics>Dive Into <abbr>HTML5</abbr></a> <span class=u>&#8227;</span>
<h1><br>Co to všechno znamená?</h1>
<p id=toc>&nbsp;
<p class=a>&#x2767;
<h2 id=divingin>Jdeme na to</h2>

<p class=f><img src=i/aoc-t.png alt=T width=107 height=105>ato kapitola vezme <abbr>HTML</abbr> stránku, na které není vůbec nic špatného, a zlepší ji. Některé části se zkrátí. Jiné se prodlouží. A všechno bude více sémantické. Bude to úchvatné.

<p style="clear:both"><a href=examples/blog-original.html>Tohle je naše stránka</a>. Naučte se ji. Žijte s ní. Mějte ji rádi. Otevřete ji v novém okně a nevracejte se, dokud jste si alespoň jednou neprohlédli její zdrojový kód.

<p class=a>&#x2767;

<h2 id=the-doctype>Typ dokumentu&nbsp;&ndash; doctype</h2>

<p>Pěkně od začátku:

<pre><code>&lt;!DOCTYPE html
          PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"></code></pre>

<p>Říká se tomu &bdquo;typ dokumentu (doctype)&ldquo;. Skrývá se za ním dlouhá historie&nbsp;&ndash; a černá magie. Když vývojáři Microsoftu pracovali na Internet Exploreru&nbsp;5 pro Mac, narazili na překvapivý problém. Připravovaná verze jejich prohlížeče podporovala standardy o tolik lépe, že se starší stránky přestaly zobrazovat správně. Přesněji řečeno, ony se zobrazovaly správně (podle specifikací), ale uživatelé čekali, že se budou zobrazovat <em>nesprávně</em>. Autoři stránek totiž počítali s chybami tehdejších prohlížečů, zejména Netscape&nbsp;4 a Internet Explorer&nbsp;4. IE5/Mac byl tak pokročilý, že vlastně rozbil web.

<p>Microsoft přišel s neobvyklým řešením. IE5/Mac před zobrazením stránky prozkoumal &bdquo;doctype&ldquo;, který zpravidla bývá v prvním řádku <abbr>HTML</abbr> kódu (ještě před prvkem <code>&lt;html></code>). Starší stránky (které spoléhaly na zobrazovací chyby starších prohlížečů) obvykle neobsahovaly žádný typ dokumentu. IE5/Mac tyto stránky zobrazil stejně jako starší prohlížeče. Pokud chtěl autor stránky &bdquo;aktivovat&ldquo; podporu nových standardů, musel to dát najevo a poskytnout před prvkem <code>&lt;html></code> správný typ dokumentu.

<p>Myšlenka se rozšířila jako požár a všechny hlavní prohlížeče brzy měly dva režimy: &bdquo;podivný režim (quirks mode)&ldquo; a &bdquo;standardní režim&ldquo;. Řeč je o webu, takže se věci samozřejmě brzy vymkly z rukou. Když se Mozilla snažila vydat verzi&nbsp;1.1, zjistila, že existují stránky zobrazované ve &bdquo;standardním režimu&ldquo;, které ale ve skutečnosti počítají s určitou konkrétní chybou. Mozilla jednoduše opravila své zobrazování, aby chybu odstranila, a rázem se rozpadly tisíce stránek. Takže byl vytvořen&nbsp;&ndash; opravdu si nevymýšlím&nbsp;&ndash; &bdquo;<a href="https://developer.mozilla.org/en/Gecko's_%22Almost_Standards%22_Mode">skoro standardní režim</a>&ldquo;.&#8221;

<p>Henri Sivonen ve své významné práci <a href=http://hsivonen.iki.fi/doctype/>Activating Browser Modes with Doctype</a> shrnuje různé režimy:

<blockquote>
<dl>
<dt>Podivný režim (quirks mode)
<dd>V podivném režimu prohlížeče porušují aktuální specifikace webových formátů, aby zabránily &bdquo;poškození&ldquo; stránek vytvořených podle zvyklostí převládajících v pozdních 90.&nbsp;letech.
<dt>Standardní režim
<dd>Ve standardním režimu se prohlížeče snaží v rámci svých možností poskytnout zpracování podle platných specifikací pro korektní dokumenty. <abbr>HTML5</abbr> tento režim označuje jako &bdquo;nepodivný (no quirks mode)&ldquo;.
<dt>Skoro standardní režim
<dd>Firefox, Safari, Chrome, Opera (od verze&nbsp;7.5) a IE8 mají také režim známý jako &bdquo;skoro standardní&ldquo;, který svislé rozměry tabulek implementuje tradičně, místo aby se striktně držel specifikace CSS2. <abbr>HTML5</abbr> mu říká &bdquo;trochu podivný režim (limited quirks mode)&ldquo;.
</dl>
</blockquote>

<p>(Doporučuji přečíst si zbytek Henriho článku, protože silně zjednodušuji. Dokonce i v IE5/Mac existovalo několik starších typů dokumentu, které nebyly dost daleko na to, aby aktivovaly standardní režim. Postupem času seznam chyb rostl a s ním i seznam typů dokumentu, které vyvolají &bdquo;podivný režim&ldquo;. Když jsem je naposledy zkoušel spočítat, existovalo 5&nbsp;typů spouštějících &bdquo;skoro standardní režim&ldquo; a 73, které vyvolaly &bdquo;podivný režim&ldquo;. Ale pravděpodobně jsem nějaké přehlédl a raději se ani nesnažím mluvit o blázinci, který provozuje Internet Explorer&nbsp;8 při přepínání mezi svými čtyřmi&nbsp;&ndash; čtyřmi!&nbsp;&ndash; různými režimy. <a href=http://hsivonen.iki.fi/doctype/ie8-mode.png>Tady je diagram</a>. Zničte to. Spalte to.)

<p>Tak tedy. Kde jsme skončili? Aha, typ dokumentu:

<pre><code>&lt;!DOCTYPE html
          PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"></code></pre>

<p>Tohle je jeden z 15&nbsp;typů vyvolávajících &bdquo;standardní režim&ldquo; ve všech moderních prohlížečích. Není na něm nic špatného. Pokud se vám líbí, nechte si ho. Nebo ho můžete vyměnit za typ dokumentu pro <abbr>HTML5</abbr>, který je kratší, sladší a také vyvolá &bdquo;standardní režim&ldquo; ve všech moderních prohlížečích.

<p>Tohle je doctype pro <abbr>HTML5</abbr>:

<pre><code>&lt;!DOCTYPE html></code></pre>

<p>To je celé. Jen 15&nbsp;znaků. Je tak jednoduchý, že ho dokážete napsat z hlavy a neuděláte chybu.

<p class=a>&#x2767;

<h2 id=html-element>Kořenový prvek</h2>

<p class=ss style="float:left;margin:0 1.75em 1.75em 0;width:280px"><img src=i/openclipart.org_johnny_automatic_tree_on_top_of_hill.png alt="tree on top of hill" width=280 height=394>

<p><abbr>HTML</abbr> stránka je sekvencí vnořených prvků. Celá její struktura připomíná strom. Některé prvky jsou &bdquo;sourozenci&ldquo; jako dvě větve, které vyrůstají ze stejného kmene. Některé prvky jsou &bdquo;dětmi&ldquo; jiných prvků, jako když menší větev vyrůstá z větší větve. (Funguje to i obráceně; prvek, který obsahuje jiný prvek, je nazýván &bdquo;rodičem&ldquo; uzlů představujících jeho přímé děti a &bdquo;předkem&ldquo; svých vnoučat.) Bezdětné prvky se nazývají &bdquo;listy&ldquo;. Nejvnějšnější prvek, který je předkem všech ostatních prvků stránky, se nazývá &bdquo;kořenový prvek&ldquo;. Kořenovým prvkem <abbr>HTML</abbr> stránky je vždy <code>&lt;html></code>.

<p>Na <a href=examples/blog-original.html>této ukázkové stránce</a>, vypadá kořenový prvek následovně:

<table role=presentation><tr><td><pre><code>&lt;html xmlns="http://www.w3.org/1999/xhtml"
      lang="en"
      xml:lang="en"></code></pre></td></table>

<p>Na jeho kódu není nic špatného. Zase, pokud se vám líbí, nechte si ho. Je to validní <abbr>HTML5</abbr>. Nicméně některé jeho části v <abbr>HTML5</abbr> už nejsou potřeba, takže se jejich odstraněním dá ušetřit pár bajtů.

<p>První věcí k diskusi je atribut <code>xmlns</code>. Je pozůstatkem <a href=http://www.w3.org/TR/xhtml1/><abbr>XHTML</abbr> 1.0</a>. Říká, že prvky na této stránce patří do jmenného prostoru <abbr>XHTML</abbr>, <code>http://www.w3.org/1999/xhtml</code>. Ale prvky <abbr>HTML5</abbr> <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/infrastructure.html#xml>jsou vždy v tomto jmenném prostoru</a>, takže už to nemusíme explicitně deklarovat. Vaše <abbr>HTML5</abbr> stránka bude ve všech prohlížečích fungovat zcela stejně, ať tento atribut uvedete nebo ne.

<p>Po zahození atributu <code>xmlns</code> nám zůstane tento kořenový prvek:

<pre><code>&lt;html lang="en" xml:lang="en"></code></pre>

<p>Oba jeho atributy <code>lang</code> a <code>xml:lang</code> definují jazyk této <abbr>HTML</abbr> stránky. (<code>en</code> znamená &bdquo;English&ldquo;. Nepíšete anglicky? <a href=http://www.w3.org/International/questions/qa-choosing-language-tags>Najděte si kód pro svůj jazyk</a>.) Proč dva atributy pro totéž? Opět se jedná o pozůstatek <abbr>XHTML</abbr>. V <abbr>HTML5</abbr> má nějaký účinek jen atribut <code>lang</code>. Můžete atribut <code>xml:lang</code> zachovat, pokud chcete, ale pokud to uděláte, musíte zajisit, aby <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/elements.html#the-lang-and-xml:lang-attributes">obsahoval stejnou hodnotu jako atribut <code>lang</code></a>.

<blockquote cite="http://www.whatwg.org/specs/web-apps/current-work/multipage/elements.html#the-lang-and-xml:lang-attributes">
<p>Aby se usnadnila migrace z XHTML, autoři mohou v <abbr>HTML</abbr> prvcích uvnitř <abbr>HTML</abbr> dokumentu uvést atribut bez jmenného prostoru, bez prefixu a s přesným lokálním jménem "xml:lang", ale tyto atributy smí být uvedeny jen pokud je také uveden atribut <code>lang</code> bez jmenného prostoru a oba atributy musí mít stejnou hodnotu při porovnání v ASCII nerozlišujícím malá a velká písmena. Atribut s přesným lokálním jménem "xml:lang" bez jmenného prostoru a bez prefixu nemá žádný vliv na jazykové zpracování.
</blockquote>

<p>Jste připraveni ho zahodit? Nic nezkazíte, prostě nic nedělejte. Ještě, ještě&hellip; hotovo! Zůstal nám tenhle kořenový prvek:

<pre><code>&lt;html lang="en"></code></pre>

<p>Víc už nemusím říkat.

<p class=a>&#x2767;

<h2 id=head-element>Prvek &lt;head></h2>

<p class=c><img src=i/openclipart.org_johnny_automatic_8_from_behind.png alt="8 men from behind" width=554 height=164>

<p>Prvním dítětem kořenového prvku je obvykle prvek <code>&lt;head></code>. Obsahuje metadata&nbsp;&ndash; informace <em>o stránce</em>, nikoli její vlastní tělo. (Tělo stránky obsahuje, nepříliš překvapivě, prvek <code>&lt;body></code>.) Samotný prvek <code>&lt;head></code> je celkem nudný a v <abbr>HTML5</abbr> se nijak zajímavě nezměnil. Dobroty jsou <em>uvnitř</em> prvku <code>&lt;head></code>. A proto se opět obrátíme na <a href=examples/blog-original.html>naši ukázkovou stránku</a>:

<pre><code>&lt;head>
  &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  &lt;title>My Weblog&lt;/title>
  &lt;link rel="stylesheet" type="text/css" href="style-original.css" />
  &lt;link rel="alternate" type="application/atom+xml"
                        title="My Weblog feed"
                        href="/feed/" />
  &lt;link rel="search" type="application/opensearchdescription+xml"
                        title="My Weblog search"
                        href="opensearch.xml"  />
  &lt;link rel="shortcut icon" href="/favicon.ico" />
&lt;/head></code></pre>

<p>Pro začátek: prvek <code>&lt;meta></code>.

<p class=a>&#x2767;

<h2 id=encoding>Kódování znaků</h2>

<p>Když uvažujete o &bdquo;textu&ldquo;, pravděpodobně uvažujete o &bdquo;znacích a symbolech, které vidím na obrazovce svého počítače&ldquo;. Ale počítače nepracují se znaky a symboly, pracují s bity a bajty. Každý kousek textu, který jste kdy viděli na počítačové obrazovce, je ve skutečnosti uložen v určitém <em>kódování znaků</em>. Existují <a href=http://www.iana.org/assignments/character-sets>stovky různých znakových kódování</a>, některá jsou optimalizována pro konkrétní jazyky, jako je ruština, čínština nebo angličtina, jiná lze použít pro více jazyků. Kódování znaků zhruba řečeno poskytuje mapování mezi tím co vidíte na obrazovce a tím co váš si počítač ukládá do paměti a na disk.

<p>Ve skutečnosti je to ještě složitější. Stejný znak se může vyskytovat v několika kódováních, ale každé z nich může používat jinou sekvenci bajtů k uložení tohoto znaku do paměti nebo na disk. Takže můžete znakové kódování brát jako určitý druh dešifrovacího klíče pro text. Kdykoli vám někdo předá sekvenci bajtů a tvrdí, že to je &bdquo;text&ldquo;, potřebujete znát kódování znaků, které použil, abyste mohli dekódovat bajty na znaky a zobrazit je (nebo je jakkoli zpracovat).

<p>Jak tedy váš prohlížeč vlastně určí kódování znaků pro proud bajtů, který mu posílá web server? Jsem rád, že se ptáte. Pokud se orientujete v <abbr>HTTP</abbr> hlavičkách, možná jste už viděli hlavičku podobnou této:

<blockquote><p><code>Content-Type: text/html; charset="utf-8"</code></blockquote>

<p>Stručně řečeno říká, že server si myslí, že vám posílá <abbr>HTML</abbr> dokument a že ten dokument používá kódování znaků <code>UTF-8</code>. Naneštěstí jen pár autorů v celém tom úžasném webovém oceánu ovládá svůj HTTP server. Vezměte si třeba <a href="http://www.blogger.com/">Blogger</a>: obsah vytvářejí jednotlivci, ale server provozuje Google. Proto <abbr>HTML</abbr>&nbsp;4 poskytl způsob, jak specifikovat kódování znaků v samotném dokumentu. Tohle jste pravděpodobně viděli také:

<blockquote><p><code>&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"></code></blockquote>

<p>Stručně řečeno říká, že autor stránky si myslí, že vytvořil <abbr>HTML</abbr> dokument používající kódování znaků <code>UTF-8</code>.

<p>Obě techniky fungují i v <abbr>HTML5</abbr>. <abbr>HTTP</abbr> hlavička je preferovanou metodou a má přednost před značkou <code>&lt;meta></code>, pokud se vyskytnou obě. Ne každý ale může nastavovat <abbr>HTTP</abbr> hlavičky, takže <code>&lt;meta></code> zůstává k dispozici. Ve skutečnosti se v <abbr>HTML5</abbr> trochu zjednodušila. Nyní vypadá takhle:

<blockquote><p><code>&lt;meta charset="utf-8" /></code></blockquote>

<p>Funguje ve všech prohlížečích. Odkud zjednodušená syntaxe pochází? Tady je <a href="http://lists.w3.org/Archives/Public/public-html/2007Jul/0550.html">nejlepší vysvětlení, které jsem našel</a>:

<blockquote cite="http://lists.w3.org/Archives/Public/public-html/2007Jul/0550.html">
<p>Důvodem pro kombinaci atributů <code>&lt;meta charset=""></code> je, že ji prohlížeče už implementují, protože lidé mají sklon vynechávat uvozovky, jako:
<p><code>&lt;META HTTP-EQUIV=Content-Type CONTENT=text/html; charset=ISO-8859-1></code>
</blockquote>

<p>Existuje dokonce několik <a href="http://simon.html5.org/test/html/parsing/encoding/">testovacích stránek na <code>&lt;meta charset></code></a>, pokud nevěříte, že se prohlížeče takto chovají.

<div class=pf>
<h4>Zeptejte se profesora Značky</h4>
<div class=inner>
<blockquote class=note>
<p><span>&#x261E;</span>OT: Nikdy nepoužívám legrační znaky. Musím přesto deklarovat své kódování znaků?<br>
<p>OD: Ano! Měli byste <em>vždy</em> specifikovat kódování znaků na každé <abbr>HTML</abbr> stránce, kterou poskytujete. Chybějící specifikace kódování <a href=http://openmya.hacker.jp/hasegawa/security/utf7cs.html>může vést k bezpečnostním rizikům</a>.
</blockquote>
</div>
</div>

<p>Abych to shrnul: kódování znaků je složité a nezjednodušilo se během desítek let mizerně psaných programů používaných autory školenými v kopírování a vkládání. Měli byste <strong>vždy</strong> specifikovat kódování znaků v <strong>každém</strong> <abbr>HTML</abbr> dokumentu, jinak <a href=http://openmya.hacker.jp/hasegawa/security/utf7cs.html>se přihodí ošklivé věci</a>. Můžete to udělat HTTP hlavičkou <code>Content-Type</code>, deklarací <code>&lt;meta http-equiv></code> nebo kratší deklarací <code>&lt;meta charset></code>, ale udělejte to, prosím. Web vám bude vděčný.

<p class=a>&#x2767;

<h2 id=link>Přátelé &amp; vztahy (Link)</h2>

<p>Normální odkazy (<code>&lt;a href></code>) jednoduše ukazují na jinou stránku. Vztah odkazu umožňuje vysvětlit, <em>proč</em> na danou stránku odkazujete. Dokončují větu &bdquo;Na tuto stránku odkazuji, protože&hellip;&ldquo;

<ul>
<li>&hellip;je to stylový předpis obsahující CSS pravidla, která by váš prohlížeč měl použít na tento dokument.
<li>&hellip;je to webový zdroj, který má stejný obsah jako stránka, ale ve standardním formátu umožňujícím odběr.
<li>&hellip;je to překlad této stránky do jiného jazyka.
<li>&hellip;má stejný obsah jako tato stránka, ale ve formátu <abbr>PDF</abbr>.
<li>&hellip;je to další kapitola on-line knihy, do níž patří i tato stránka.
</ul>

<p>A tak dále. <abbr>HTML5</abbr> rozděluje vztahy odkazů <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#attr-link-rel>do dvou kategorií</a>:

<blockquote cite=http://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#attr-link-rel>
<p>Použitím prvku link lze vytvořit dvě kategorie odkazů. <b>Odkazy na vnější zdroje</b> jsou odkazy na zdroje, jež mají být použity k rozšíření aktuálního dokumentu, zatímco <strong>hyperodkazy</strong> jsou odkazy na jiné dokumenty. &hellip;
<p>Přesné chování odkazů na externí zdroje závisí na konkrétním vztahu, definovaném pro příslušný typ odkazu.
</blockquote>

<p>V příkladech, které jsem před chvílí uvedl, pouze první (<code>rel="stylesheet"</code>) představuje odkaz na externí zdroj. Ostatní jsou hyperodkazy na jiné dokumenty. Možná je budete chtít následovat a možná ne, ale nejsou potřeba pro zobrazení aktuální stránky.

<p>Vztahy odkazů jsou nejčastěji k vidění u prvků <code>&lt;link></code> uvnitř <code>&lt;head></code> na začátku stránky. Některé vztahy lze použít také pro prvky <code>&lt;a></code>, což je ale dost neobvyklé, i když povolené. <abbr>HTML5</abbr> také připouští určité vztahy pro prvky <code>&lt;area></code>, ale to je ještě <em>méně</em> obvyklé. (HTML&nbsp;4 nepřipouštělo atribut <code>rel</code> u prvků <code>&lt;area></code>.) Podívejte se na <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#linkTypes>kompletní tabulku vztahů pro odkazy</a> a ověřte si, kde můžete používat jednotlivé hodnoty <code>rel</code>.

<div class=pf>
<h4>Zeptejte se profesora Značky</h4>
<div class=inner>
<blockquote class=note>
<p><span>&#x261E;</span>OT: Mohu vytvářet své vlastní vztahy pro odkazy?<br>
<p>OT: Vypadá to, že zásoba nápadů na nové vztahy odkazů je nevyčerpatelná. WHATWG se snaží zabránit lidem <a href=http://developer.apple.com/safari/library/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html#//apple_ref/doc/uid/TP40002051-CH3-SW4>udělat v nich naprostý guláš</a>, a proto <a href=http://wiki.whatwg.org/wiki/RelExtensions>spravuje registr navržených hodnot atributu <code>rel</code></a> a <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#other-link-types>definuje proces jejich schvalování</a>.
</blockquote>
</div>
</div>

<h3 id=rel-stylesheet>rel = stylesheet</h3>

<p>Podívejme se na první vztah odkazu na <a href=examples/blog-original.html>naší ukázkové stránce</a>:

<pre><code>&lt;link rel="stylesheet" href="style-original.css" type="text/css" /></code></pre>

<p>Jedná se o nejčastěji používaný vztah odkazu na světě (doslova). <code>&lt;link rel="stylesheet"></code> slouží pro odkaz na <abbr>CSS</abbr> pravidla uložená v samostatném souboru. V <abbr>HTML5</abbr> jej můžete drobně vylepšit vypuštěním atributu <code>type</code>. Pro web existuje jen jeden stylový jazyk, <abbr>CSS</abbr>, takže je výchozí hodnotou atributu <code>type</code>. Funguje to ve všech prohlížečích. (Předpokládám, že by někdo jednou mohl vymyslet nový stylový jazyk, ale pokud se to stane, jednoduše zase přidáte atribut <code>type</code>.)

<pre><code>&lt;link rel="stylesheet" href="style-original.css" /></code></pre>

<h3 id=rel-alternate>rel = alternate</h3>

<p>Pokračujeme s <a href=examples/blog-original.html>naší ukázkovou stránkou</a>:

<pre><code>&lt;link rel="alternate"
       type="application/atom+xml"
       title="My Weblog feed"
       href="/feed/" /></code></pre>

<p>Tento vztah odkazu je také poměrně běžný. <code>&lt;link rel="alternate"></code> v kombinaci s médii typu <abbr>RSS</abbr> nebo Atom umožňuje tak zvané &bdquo;automatické objevování kanálů&ldquo;. Umožňuje čtečkám syndikovaných zdrojů (jako je <a href="http://www.google.com/reader/">Google Reader</a>) zjistit, že tento web obsahuje kanál ohlašující nové příspěvky. Většina prohlížečů také podporuje automatické objevování a zobrazuje speciální ikonu poblíž <abbr>URL</abbr>. (Na rozdíl od <code>rel="stylesheet"</code> zde záleží na atributu <code>type</code>. Nevynechávejte ho!)

<p>Vztah odkazu <code>rel="alternate"</code> vždy býval podivným míšencem různých způsobů použití, <a href=http://www.w3.org/TR/html401/types.html#type-links>i v <abbr>HTML</abbr>&nbsp;4</a>. V <abbr>HTML5</abbr> došlo k vyjasnění jeho definice a k jejímu rozšíření, aby přesněji popisovala existující webový obsah. Jak jste právě viděli, použití <code>rel="alternate"</code> ve spojení a <code>type=application/atom+xml</code> indikuje Atom kanál pro aktuální stránku. <code>rel="alternate"</code> však můžete použít v kombinaci s jinými hodnotami stributu <code>type</code> k označení stejného obsahu v jiném formátu, například <abbr>PDF</abbr>.

<p><abbr>HTML5</abbr> také ukončilo dlouhodobý zmatek v odkazech na překlady dokumentů. <abbr>HTML</abbr>&nbsp;4 požaduje, abyste jazyk odkazovaného dokumentu určili atributem <code>lang</code> ve spojení s <code>rel="alternate"</code>, jenže to je špatně. <a href=http://www.w3.org/MarkUp/html4-updates/errata>Seznam chyb v HTML&nbsp;4</a> uvádí čtyři naprosté chyby ve specifikaci HTML&nbsp;4. Jednou z nich je definice jazyka dokumentu odkazovaného pomocí <code>link="alternate"</code>. Správný způsob, popsaný v seznamu chyb <abbr>HTML</abbr>&nbsp;4 a nyní i v <abbr>HTML5</abbr>, je použít atribut <code>hreflang</code>. Naneštěstí nebyly opravy chyb nikdy zpětně začleněny do specifikace <abbr>HTML</abbr>&nbsp;4, protože na <abbr>HTML</abbr> už nepracuje nikdo z pracovní skupiny W3C pro <abbr>HTML</abbr>.

<h3 id=new-relations>Další vztahy odkazů v HTML5</h3>

<p><code>rel="author"</code> se používá pro odkaz na informace o autorovi stránky. Může se jednat o <code>mailto</code> adresu, ale není to povinné. Může jednoduše odkazovat na kontaktní formulář nebo stránku &bdquo;o autorovi&ldquo;.

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#link-type-external>rel="external"</a> &bdquo;signalizuje, že odkaz vede na dokument, který nepatří do webu, jehož je tato stránka součástí.&ldquo; Myslím, že jako první jej zpopularizoval <a href=http://www.wordpress.org/>WordPress</a>, který jej používal u odkazů vložených komentujícími.

<p class=ss style="width:313px"><img src=i/openclipart.org_johnny_automatic_girl_feeding_birds.png width=313 height=384 alt="girl feeding birds">

<p><abbr>HTML</abbr>&nbsp;4 definoval <a href=http://www.w3.org/TR/html401/types.html#type-links><code>rel="start"</code>, <code>rel="prev"</code> a <code>rel="next"</code></a> určující vztahy mezi stránkami, jež patří do určité posloupnosti (jako kapitoly v knize nebo třeba příspěvky v blogu). Jediný, který kdy byl používán korektně, je <code>rel="next"</code>. Lidé psali <code>rel="previous"</code> místo <code>rel="prev"</code>, používali <code>rel="begin"</code> a <code>rel="first"</code> místo <code>rel="start"</code> a <code>rel="end"</code> místo <code>rel="last"</code>. Ó, a&nbsp;&ndash; úplně sami&nbsp;&ndash; vytvořili <code>rel="up"</code> pro odkaz na &bdquo;rodičovskou&ldquo; stránku.

<p><abbr>HTML5</abbr> obsahuje <code>rel="first"</code>, což byla nejběžnější variace z různých způsobů, jak říci &bdquo;první stránka v sérii&ldquo;. (<code>rel="start"</code> je nevyhovující synonymum poskytnuté pro zpětnou kompatibilitu.) Obsahuje také <code>rel="prev"</code> a <code>rel="next"</code>, stejně jako <abbr>HTML</abbr>&nbsp;4, a podporuje <code>rel="previous"</code> pro zpětnou kompatibilitu, stejně jako <code>rel="last"</code> (poslední v posloupnosti, opak <code>rel="first"</code>) a <code>rel="up"</code>.

<p>O <code>rel="up"</code> je nejlepší uvažovat jako o drobečkové navigaci (nebo si to alespoň představovat). Vaše domácí stránka je pravděpodobně první stránkou mezi drobečky a aktuální stránka je na jejich konci. <code>rel="up"</code> ukazuje na předposlední stránku v drobečcích.

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#rel-icon>rel="icon"</a> je <a href=http://code.google.com/webstats/2005-12/linkrels.html>druhým nejpopulárnějším vztahem odkazů</a> po <code>rel="stylesheet"</code>. Obvykle je k vidění společně s <code>shortcut</code>, asi takhle:

<pre><code>&lt;link rel="shortcut icon" href="/favicon.ico"></code></pre>

<p>Všechny hlavní prohlížeče podporují tohle použití přiřazující malou ikonu ke stránce. Je obvykle zobrazena v adresním řádku prohlížeče vedle URL, v panelu prohlížeče, případně v obou.

<p>V <abbr>HTML5</abbr> máme novinku: atributem <code>sizes</code> lze ve spojení se vztahem <code>icon</code> <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#rel-icon>oznámit velikost odkazované ikony</a>.

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#link-type-license>rel="license"</a> byl <a href=http://microformats.org/wiki/rel-license>vymyšlen komunitou kolem mikroformátů</a>. &bdquo;Naznačuje, že odkazovaný dokument obsahuje licenci, pod níž je dotyčná stránka poskytována.&ldquo;

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#link-type-nofollow>rel="nofollow"</a> &bdquo;indikuje, že autor nebo vydavatel stránky tento odkaz nepodporuje, nebo že odkaz byl vložen především jako důsledek komerčního vztahu mezi osobami spojenými s oběma stránkami.&ldquo; Byl <a href=http://googleblog.blogspot.com/2005/01/preventing-comment-spam.html>vynalezen Googlem</a> a <a href=http://microformats.org/wiki/rel-nofollow>standardizován mikroformátovou komunitou</a>. <a href=http://www.wordpress.org>WordPress</a> přidává <code>rel="nofollow"</code> k odkazům vloženým komentujícími. Vychází z úvahy, že pokud odkazy s <code>nofollow</code> nemají vliv na PageRank, spammeři se přestanou snažit vkládat spamové komentáře do blogů. Nestalo se, ale <code>rel="nofollow"</code> zůstává.

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#link-type-noreferrer>rel="noreferrer"</a> &bdquo;označuje, že při následování odkazu by neměly být vyzrazeny žádné informace o odkazující stránce.&ldquo; V současnosti jej nepodporuje žádný dostupný prohlížeč, ale podpora <a href=http://webkit.org/blog/907/webkit-nightlies-support-html5-noreferrer-link-relation/>byla nedávno doplněna do nočních překladů WebKitu</a>, takže se časem objeví v Safari, Google Chrome a dalších klientech založených na WebKitu. [<a href=http://wearehugh.com/public/2009/04/rel-noreferrer.html>testovací stránka rel="noreferrer"</a>]

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#link-type-pingback>rel="pingback"</a> určuje adresu &bdquo;pingback&ldquo; serveru. Jak vysvětluje <a href=http://hixie.ch/specs/pingback/pingback-1.0>specifikace Pingback</a>, &bdquo;Systém pingback představuje způsob jak automaticky informovat blog, když na něj odkáže jiný webový server. &hellip; Umožňuje zpětné odkazy&nbsp;&ndash; cestu, jak se vracet řetězcem odkazů, aniž by člověk musel všechny procházet.&ldquo; Blogovací systémy, zejména WordPress, implementují mechanismy pingback, aby upozorňovaly autory, že jste na ně odkázali ve svých nových příspěvcích do blogu.

<p class=ss style="float:left;margin:0 1.75em 1.75em 0;width:271px"><img src=i/openclipart.org_johnny_automatic_dog_on_chair.png width=271 height=309 alt="dog on chair">

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#link-type-prefetch>rel="prefetch"</a> &bdquo;naznačuje, že předběžné stažení daného zdroje a jeho uložení do vyrovnávací paměti bude nejspíš výhodné, protože je velmi pravděpodobné, že uživatel bude zdroj potřebovat&ldquo;. Vyhledávače někdy přidávají <code>&lt;link rel="prefetch" href="<i>URL nejlepšího výsledku hledání</i>"></code> do stránky s výsledky hledání, pokud mají pocit, že nejlepší nalezená stránka je mnohem populárnější, než ty ostatní. Například: pomocí Firefoxu <a href="http://www.google.com/search?q=cnn">si nechte Googlem vyhledat CNN</a>, podívejte se na zdrojový kód a hledejte slovo <code>prefetch</code>. Mozilla Firefox je jediný současný prohlížeč, který podporuje <code>rel="prefetch"</code>.

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#link-type-search>rel="search"</a> &bdquo;signalizuje, že odkazovaný dokument poskytuje rozhraní výlučně pro hledání v dokumentu a s ním spojených zdrojích&ldquo;. Pokud chcete, aby <code>rel="search"</code> dělalo něco užitečného, mělo by ukazovat na <a href=http://www.opensearch.org/>OpenSearch</a> dokument, který popisuje, jak má prohlížeč sestavit URL k vyhledání určitého slova na aktuálním webu. OpenSearch (a <code>rel="search"</code> odkazy, které vedou na popisné dokumenty ve formátu OpenSearch) je podporován v Microsoft Internet Exploreru od verze&nbsp;7 a v Mozilla Firefoxu od verze&nbsp;2.

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#link-type-sidebar>rel="sidebar"</a> &bdquo;indikuje, že odkazovaný dokument, pokud bude stažen, má být zobrazen ve vedlejším prohlížecím kontextu (pokud je to možné) místo v aktuálním prohlížecím kontextu&ldquo;. Co to znamená? V Opeře a Mozilla Firefoxu to znamená &bdquo;pokud na odkaz klikne, vyzvi uživatele k vytvoření záložky, která, když bude vybrána z nabídky záložek, otevře odkazovanou stránku v postranní liště prohlížeče&ldquo;. (Opera ji vlastně nazývá &bdquo;panel&ldquo; místo &bdquo;postranní lišta&ldquo;.) Microsoft Explorer, Safari a Chrome <code>rel="sidebar"</code> ignorují a prostě zacházejí s odkazem úplně normálně. [<a href=http://wearehugh.com/public/2009/04/rel-sidebar.html>testovací stránka rel="sidebar"</a>]

<p><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#link-type-tag>rel="tag"</a> &bdquo;naznačuje, že štítek reprezentovaný odkazovaným dokumentem platí pro aktuální dokument&ldquo;. Označování štítky (klíčovými slovy pro kategorie) s atributem <code>rel</code> <a href=http://www.powazek.com/2005/07/000532.html>vymyslelo Technorati</a>, aby si usnadnilo kategorizaci blogových příspěvků. Rané blogy a návody je proto označují za &bdquo;Technorati štítky&ldquo;. (Čtete dobře: komerční firma přesvědčila celý svět, aby přidával metadata, která té firmě usnadnila práci. Skvělá práce, když něco takového dokážete!) Syntaxe byla později <a href=http://microformats.org/wiki/rel-tag>standardizována komunitou mikroformátů</a>, kde jí jednoduše říkali <code>rel="tag"</code>. Většina blogovacích systémů, které umožňují příspěvkům přiřazovat kategorie, klíčová slova nebo štítky, je označuje odkazy s <code>rel="tag"</code>. Prohlížeče s nimi nezacházejí nijak speciálně; byly vlastně navrženy, aby napověděly vyhledávacím strojům, čeho se daná stránka týká.

<p class=a>&#x2767;

<h2 id=new-elements>Nové sémantické prvky v HTML5</h2>

<p><abbr>HTML5</abbr> se neomezuje na zkracování existujícího kódu (i když v téhle oblasti dělá opravdu dost). Definuje také nové sémantické prvky.

<dl class=col>
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-section-element><code>&lt;section></code></a>
<dd>Prvek <code>section</code> představuje obecný úsek dokumentu nebo aplikace. Úsek v tomto kontextu znamená tématické seskupení obsahu, typicky s nadpisem. Za příklady úseků poslouží kapitoly, panely v dialogovém okně uspořádaném do panelů nebo číslované části diplomové práce. Domácí stránka webu může být rozdělena do úseků pro úvod, aktuality a kontaktní informace.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-nav-element><code>&lt;nav></code></a>
<dd>Prvek <code>nav</code> reprezentuje část stránky, která odkazuje na další stránky, nebo na části aktuální stránky: část obsahující navigační odkazy. Ne všechny skupiny odkazů na stránce musí být uvnitř prvku <code>nav</code>&nbsp;&ndash; pouze části tvořící hlavní navigační bloky jsou vhodné pro prvek <code>nav</code>. Například je běžné umisťovat do zápatí stránek krátký seznam odkazů na společné stránky webu, jako jsou podmínky použití, domácí stránka nebo informace o autorských právech. Pro tyto případy stačí samotný prvek <code>footer</code>, bez prvku <code>nav</code>.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-article-element><code>&lt;article></code></a>
<dd>Prvek <code>article</code> představuje část stránky, která tvoří samostatný celek v dokumentu, stránce, aplikaci nebo webu a která je určena k nezávislé distribuci či opakovanému požití, například k syndikaci. Může se jednat o příspěvek ve fóru, časopisecký nebo novinový článek, záznam v logu webu, uživatelský komentář, interaktivní widget nebo gadget či jakýkoli jiný prvek nebo obsah.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-aside-element><code>&lt;aside></code></a>
<dd>Prvek <code>aside</code> představuje část stránky tvořenou materiálem, který se dotýká materiálu kolem prvku <code>aside</code>, ale který je považován za oddělený od tohoto obsahu. Tyto části jsou v tištěné typografii často reprezentovány jako postranní pruhy. Prvek lze použít pro typografické efekty, jako jsou citace vytažené z textu, komentáře na okraji, reklamy, skupiny prvků <code>nav</code> a pro další obsah, který je vnímán jako oddělený od vlastního obsahu stránky.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-hgroup-element><code>&lt;hgroup></code></a>
<dd>Prvek <code>hgroup</code> reprezentuje nadpis části. Prvek se používá k seskupení několika prvků <code>h1</code>&ndash;<code>h6</code>, když má nadpis několik úrovní, jako jsou podnadpisy, alternativní titulky nebo slogan.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-header-element><code>&lt;header></code></a>
<dd>Prvek <code>header</code> představuje skupinu úvodních nebo navigačních prostředků. Smyslem prvku <code>header</code> je obvykle obsahovat nadpis úseku (prvek <code>h1</code>&ndash;<code>h6</code> nebo <code>hgroup</code>), ale není to povinné. Lze jej použít také k obalení obsahu úseku, vyhledávacího formuláře nebo souvisejícího loga.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-footer-element><code>&lt;footer></code></a>
<dd>Prvek <code>footer</code> představuje patičku pro nejbližšího předka představujícího část stránky, nebo pro celou stránku. Patička typicky obsahuje informace o své sekci, jako autora, odkazy na související dokumenty, autorská práva a podobně. Patičky se nemusí nutně vyskytovat na konci části, ale obvykle to tak bývá. Pokud prvek <code>footer</code> obsahuje celé úseky, představuje přílohy, rejstříky, tiráž, kompletní licenční ujednání a podobný materiál.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/text-level-semantics.html#the-time-element><code>&lt;time></code></a>
<dd>Prvek <code>time</code> znamená buď čas ve 24hodinovém formátu, nebo konkrétní datum podle gregoriánského kalendáře, případně doplněné o čas a časové pásmo.
<dt><a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/text-level-semantics.html#the-mark-element><code>&lt;mark></code></a>
<dd>Prvek <code>mark</code> představuje část textu v dokumentu, označenou nebo zvýrazněnou ze účelem citace.
</dl>

<p>Vím, že se už nemůžete dočkat, až začnete tyhle nové prvky používat, jinak byste tuhle kapitolu nečetli. Ale nejdřív musíme absolvovat malou okliku.

<p class=a>&#x2767;

<h2 id=unknown-elements>Dlouhá odbočka o zacházení s neznámými prvky v prohlížečích</h2>

<p>Každý prohlížeč má základní seznam <abbr>HTML</abbr> prvků, které podporuje. Například Mozilla Firefox má svůj seznam uložen v <a href="http://mxr.mozilla.org/seamonkey/source/parser/htmlparser/src/nsElementTable.cpp">nsElementTable.cpp</a>. Prvky, jež v něm nejsou obsaženy, jsou zpracovány jako &bdquo;neznámé prvky&ldquo;. Vztahují se k nim dva základní problémy:

<ol>
<li><b>Jak by měl prvek vypadat?</b> <code>&lt;p></code> implicitně vynechává mezeru nad a pod sebou, <code>&lt;blockquote></code> má odsazený levý okraj a <code>&lt;h1></code> je zobrazen velkým písmem. Ale jaký implicitní vzhled se má použít pro neznámé prvky?
<li><b>Jak má vypadat DOM tohoto prvku?</b> <code>nsElementTable.cpp</code> v Mozille obsahuje informace o tom, co jednotlivé prvky mohou obsahovat. Vložíte-li tento kód <code>&lt;p>&lt;p></code>, druhý odstavcový prvek implicitně uzavře první, takže oba skončí jako sourozenci, nikoli jako rodič a dítě. Ale pokud napíšete <code>&lt;p>&lt;span></code>, <code>span</code> neukončí odstavec, protože Firefox ví, že <code>&lt;p></code> je blokový prvek, který může obsahovat řádkový prvek <code>&lt;span></code>. Proto <code>&lt;span></code> skončí v DOMu jako dítě <code>&lt;p></code>.
</ol>

<p>Různé prohlížeče zodpovídají tyto otázky odlišně. (Šokující, já vím.) Mezi hlavními prohlížeči odpovídá na obě otázky nejproblematičtěji Microsoft Explorer, ale každý prohlížeč potřebuje trochu pomoci.

<p>Odpověď na první otázku může být celkem jednoduchá: Nepřiřazujte neznámým prvkům žádný speciální vzhled. Prostě je nechte zdědit aktuální hodnoty CSS vlastností, kdekoli se na stránce vyskytnou, a nechte autora stránky určit celý vzhled pomocí CSS. Takhle to v zásadě funguje, ale je tu ukrytý malý háček, o kterém byste měli vědět.

<div class=pf>
<h4>Professor Značka říká</h4>
<div class=inner>
<blockquote>
<p>Všechny prohlížeče zobrazují neznámé prvky jako řádkové, tedy jako by pro ně CSS obsahovalo pravidlo <code>display: inline</code>.
</blockquote>
</div>
</div>

<p><abbr>HTML5</abbr> definuje několik nových prvků, které patří mezi blokové. To znamená, že mohou obsahovat jiné blokové prvky a prohlížeče dodržující <abbr>HTML5</abbr> je implicitně budou zobrazovat jako <code>display: block</code>. Pokud je chcete používat ve starších prohlížečích, musíte jim definovat styl zobrazení sami:

<pre><code>article,aside,details,figcaption,figure,
footer,header,hgroup,menu,nav,section { 
    display:block;
}</code></pre>

<p>(Tento kód pochází z <a href=http://html5doctor.com/html-5-reset-stylesheet/>předpisu pro reset <abbr>HTML5</abbr></a> od Riche Clarka, který dělá i řadu dalších věcí přesahujících záběr této kapitoly.)

<p>Ale počkejte, bude hůř! Internet Explorer před verzí&nbsp;9 nepřiřazoval neznámým prvkům <em>žádný</em> vzhled. Například pokud jste vytvořili tento kód:

<pre><code>&lt;style type="text/css">
  article { display: block; border: 1px solid red }
&lt;/style>
...
&lt;article>
&lt;h1>Welcome to Initech&lt;/h1>
&lt;p>This is your &lt;span>first day&lt;/span>.&lt;/p>
&lt;/article></code></pre>

<p>Internet Explorer (až po verzi&nbsp;8 včetně) nezpracoval <code>&lt;article></code> jako blokový prvek, ani kolem něj nevytvořil červený rámeček. Všechna stylová pravidla prostě ignoroval. <a href=http://msdn.microsoft.com/en-us/ie/ff468705.aspx#_HTML_Parsing>Internet Explorer&nbsp;9 tento problém odstranil</a>.

<p>Druhým problémem je DOM, který prohlížeč vytvoří, když narazí na neznámé prvky. Opět jsou nejproblematičtější starší verze Internet Exploreru (před verzí&nbsp;9, <a href=http://msdn.microsoft.com/en-us/ie/ff468705.aspx#_HTML_Parsing>která opravila i tenhle problém</a>). Pokud IE&nbsp;8 nezná jméno prvku, vloží jej do DOMu <em>jako prázdný prvek bez dětí</em>. Všechny prvky, které byste očekávali jako děti neznámého prvku, budou ve skutečnosti vloženy jako jeho sourozenci.

<p>Následující kousek poctivého <abbr>ASCII</abbr> umění ilustruje rozdíl. Tento DOM předepisuje <abbr>HTML5</abbr>:

<pre>article
|
+--h1 (dítě article)
|  |
|  +--textový uzel "Welcome to Initech"
|
+--p (dítě article, sourozenec h1)
   |
   +--textový uzel "This is your "
   |
   +--span
   |  |
   |  +--textový uzel "first day"
   |
   +--textový uzel "."</pre>

<p>Ale Internet Explorer ve skutečnosti vytvoří tenhle DOM:

<pre>article (bezdětný)
h1 (sourozenec article)
|
+--textový uzel "Welcome to Initech"
p (sourozenec h1)
|
+--textový uzel "This is your "
|
+--span
|  |
|  +--textový uzel "first day"
|
+--textový uzel "."</pre>

<p>Tenhle problém se dá úžasně obejít. Když pomocí JavaScriptu  <a href=http://xopus.com/devblog/2008/style-unknown-elements.html>vytvoříte fiktivní prvek <code>&lt;article></code></a> dříve než jej použijete na stránce, Internet Explorer pak prvek <code>&lt;article></code> magicky rozpozná a nechá vás definovat jeho vzhled pomocí CSS. Nemusíte ani vkládat fiktivní prvek do <abbr>DOM</abbr>u. Jen jediné (na stránku) vytvoření prvku stačí k tomu, aby se IE naučil definovat styl prvku, který nezná.

<pre><code>&lt;html>
&lt;head>
&lt;style>
  article { display: block; border: 1px solid red }
&lt;/style>
<mark>&lt;script>document.createElement("article");&lt;/script></mark>
&lt;/head>
&lt;body>
&lt;article>
&lt;h1>Welcome to Initech&lt;/h1>
&lt;p>This is your &lt;span>first day&lt;/span>.&lt;/p>
&lt;/article>
&lt;/body>
&lt;/html></code></pre>

<p>Funguje to ve všech verzích Internet Exploreru až po IE&nbsp;6! Můžeme tuto techniku rozšířit a vytvořit fiktivní kopie všech nových <abbr>HTML5</abbr> prvků najednou&nbsp;&ndash; opět nejsou vloženy do <abbr>DOM</abbr>u, takže je nikdy neuvidíte&nbsp;&ndash; a pak je jednoduše používat, aniž bychom se museli starat o prohlížeče nerozumějící <abbr>HTML5</abbr>.

<p>Remy Sharp udělal přesně tohle ve svém příhodně pojmenovaném <a href=http://remysharp.com/2009/01/07/html5-enabling-script/>skriptu zpřístupňujícím <abbr>HTML5</abbr></a>. Skript prošel více než tuctem revizí od doby, kdy jsem začal psát tuhle knížku, nicméně tohle je jeho základní idea:

<pre><code>&lt;!--[if lt IE 9]>
&lt;script>
  var e = ("abbr,article,aside,audio,canvas,datalist,details," +
    "figure,footer,header,hgroup,mark,menu,meter,nav,output," +
    "progress,section,time,video").split(',');
  for (var i = 0; i &lt; e.length; i++) {
    document.createElement(e[i]);
  }
&lt;/script>
&lt;![endif]--></code></pre>

<p>Kousky <code>&lt;!--[if lt IE 9]></code> a <code>&lt;![endif]--></code> představují <a href="http://msdn.microsoft.com/en-us/library/ms537512(VS.85).aspx">podmíněné komentáře</a>. Internet Explorer je interpretuje jako příkaz <code>if</code>: &bdquo;pokud je aktulním prohlížečem Internet Explorer verze nižší než&nbsp;9, proveď tento blok.&ldquo; Všechny ostatní prohlížeče budou brát celý blok jako <abbr>HTML</abbr> komentář. Ve výsledku Internet Explorer (až po verzi&nbsp;8 včetně) provede tento skript, zatímco ostatní prohlížeče jej budou zcela ignorovat. Díky tomu se stránka načte rychleji v prohlížečích, které tenhle hack nepotřebují.

<p>Vlastní JavaScriptový kód je celkem přímočarý. Proměnná <var>e</var> se stane polem řetězců <code>"abbr"</code>, <code>"article"</code>, <code>"aside"</code> a tak dál. Následně toto pole procházíme v cyklu a vytváříme každý z vyjmenovaných prvků voláním <code>document.createElement()</code>. Protože ignorujeme návratovou hodnotu, prvky se nikdy nevloží do <abbr>DOM</abbr>u. Ale stačí to k tomu, aby s nimi Internet Explorer začal zacházet způsobem, který chceme, když je později doopravdy použijeme na stránce.

<p>To &bdquo;později&ldquo; je důležité. Skript musí být na začátku vaší stránky, nejlépe uvnitř prvku <code>&lt;head></code>, nikoli na konci. Díky tomu Internet Explorer skript provede <em>před</em> analýzou vašich značek a atributů. Kdybyste skript vložili na konec stránky, přišel by moc pozdě. Internet Explorer by už dezinterpretoval váš kód a vytvořil špatný <abbr>DOM</abbr>, nevrátil by se zpět a neupravil jej jen kvůli tomuhle skriptu.

<p>Remy Sharp skript &bdquo;minifikoval&ldquo; a <a href=http://code.google.com/p/html5shiv/>umístil na Google Project Hosting</a>. (Pokud by vás to zajímalo, vlastní skript má otevřený zdrojový kód s licencí MIT, takže jej můžete použít v libovolném projektu.) Chcete-li, můžete skript dokonce vložit přímo a odkázat se na tuto hostovanou verzi, asi takhle:

<pre><code>&lt;head>
  &lt;meta charset="utf-8" />
  &lt;title>My Weblog&lt;/title>
  &lt;!--[if lt IE 9]>
  &lt;script <mark>src="<a href=http://html5shiv.googlecode.com/svn/trunk/html5.js>http://html5shiv.googlecode.com/svn/trunk/html5.js</a>"</mark>>&lt;/script>
  &lt;![endif]-->
&lt;/head></code></pre>

<p>A teď můžeme začít používat nové sémantické prvky z <abbr>HTML5</abbr>.

<p class=a>&#x2767;

<h2 id=header-element>Nadpisy</h2>

<p class=ss style="width:205"><img src=i/openclipart.org_johnny_automatic_newsboy.png alt="newsboy hawking newspaper" width=205 height=335>

<p>Vraťme se k naší <a href=examples/blog-original.html>ukázkové stránce</a>. Konkrétně se teď podívejme jen na její nadpisy:

<pre><code>&lt;div id="header">
  &lt;h1>My Weblog&lt;/h1>
  &lt;p class="tagline">A lot of effort went into making this effortless.&lt;/p>
&lt;/div>

&hellip;

&lt;div class="entry">
  &lt;h2>Travel day&lt;/h2>
&lt;/div>

&hellip;

&lt;div class="entry">
  &lt;h2>I'm going to Prague!&lt;/h2>
&lt;/div></code></pre>

<p>Na kódu není nic špatného. Pokud se vám líbí, můžete si ho nechat. Je to validní <abbr>HTML5</abbr>. Ale <abbr>HTML5</abbr> přidává pár sémantických prvků pro nadpisy a úseky.

<p>Nejprve se zbavme <code>&lt;div id="header"></code>. Je to běžně používaný vzor, ale neznamená nic. Prvek <code>div</code> ani atribut <code>id</code> nemají definován žádný význam. (Uživatelští agenti si nesmí odvozovat žádné významy z hodnot atributu <code>id</code>.) Můžete jej změnit na <code>&lt;div id="shazbot"></code> a bude mít stejnou sémantickou hodnotu, tedy žádnou.

<p><abbr>HTML5</abbr> definuje pro tento účel prvek <code>&lt;header></code>. Specifikace <abbr>HTML5</abbr> obsahuje <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-header-element>příklady rálného použití prvku <code>&lt;header></code></a>. Takhle by to vypadalo na <a href=examples/blog-original.html>naší ukázkové stránce</a>:

<pre><code>&lt;header>
  &lt;h1>My Weblog&lt;/h1>
  &lt;p class="tagline">A lot of effort went into making this effortless.&lt;/p>
  &hellip;
&lt;/header></code></pre>

<p>To je dobré. Říká každému, kdo se o to zajímá, že se jedná o nadpis. Ale co ten slogan? Další běžný vzor, který až do teď neměl standardní kód. Je těžké ho označit. Slogan je jako podnadpis, ale je připojen k primárnímu nadpisu. Jedná se vlastně o podnadpis, který nevytváří vlastní sekci.

<p>Hlavičkové prvky jako <code>&lt;h1></code> a <code>&lt;h2></code> dávají vaší stránce strukturu. Dohromady tvoří osnovu, kterou můžete použít k vizualizaci (nebo navigaci) své stránky. Obrazovkové čtečky využívají osnovu dokumentu, aby usnadnily nevidomým navigaci po vaší stránce. Existují <a href="http://gsnedders.html5.org/outliner/">online nástroje</a> a <a href=http://chrispederick.com/work/web-developer/>rozšíření prohlížečů</a>, které vám pomohou vizualizovat osnovu dokumentu.

<p>V <abbr>HTML</abbr>&nbsp;4 představovaly prvky <code>&lt;h1></code>&ndash;<code>&lt;h6></code> <em>jediný</em> způsob, jak vytvořit osnovu dokumentu. Osnova ukázkové stránky vypadá asi takto:

<pre>My Weblog (h1)
   |
   +--Travel day (h2)
   |
   +--I'm going to Prague! (h2)</pre>

<p>To je fajn, ale znamená to, že nemáme jak označit slogan. &bdquo;A lot of effort went into making this effortless.&ldquo; Pokud bychom jej zkusili označit jako <code>&lt;h2></code>, přidal by uzel navíc do osnovy:

<pre>My Weblog (h1)
   |
   +--A lot of effort went into making this effortless. (h2)
   |
   +--Travel day (h2)
   |
   +--I'm going to Prague! (h2)</pre>

<p>Ale to neodpovídá struktuře dokumentu. Slogan nepředstavuje úsek textu, je to jen podnadpis.

<p>Možná bychom mohli označit slogan jako <code>&lt;h2></code> a nadpisy všech článků jako <code>&lt;h3></code>? Ne, to je ještě horší:

<pre>My Weblog (h1)
   |
   +--A lot of effort went into making this effortless. (h2)
         |
         +--Travel day (h3)
         |
         +--I'm going to Prague! (h3)</pre>

<p>Pořád máme v osnově jeden uzel navíc, navíc však &bdquo;ukradl&ldquo; děti, které právoplatně patří kořenovému uzlu. Problém se nachází zde: <abbr>HTML</abbr>&nbsp;4 nenabízí žádný způsob, jak označit slogan aniž by byl přidán do osnovy dokumentu. Ať zkoušíme věci uspořádat jak chceme, &bdquo;A lot of effort went into making this effortless&ldquo; skončí v grafu. A proto skončíme u sémanticky bezvýznamného kódu typu <code>&lt;p class="tagline"></code>.

<p><abbr>HTML5</abbr> nabízí řešení: prvek <code>&lt;hgroup></code>. Funguje jako obal dvou nebo více <em>souvisejících</em> prvků s nadpisy. Co znamená &bdquo;souvisejících&ldquo;? To znamená, že dohromady tvoří jen jeden uzel v osnově dokumentu.

<p>Vezměme tenhle kód:

<pre><code>&lt;header>
  <mark>&lt;hgroup></mark>
    &lt;h1>My Weblog&lt;/h1>
    <mark>&lt;h2></mark>A lot of effort went into making this effortless.<mark>&lt;/h2></mark>
  <mark>&lt;/hgroup></mark>
  &hellip;
&lt;/header>

&hellip;

&lt;div class="entry">
  &lt;h2>Travel day&lt;/h2>
&lt;/div>

&hellip;

&lt;div class="entry">
  &lt;h2>I'm going to Prague!&lt;/h2>
&lt;/div></code></pre>

<p>Vytvoří následující osnovu dokumentu:

<pre>My Weblog (h1 z příslušné hgroup)
   |
   +--Travel day (h2)
   |
   +--I'm going to Prague! (h2)</pre>

<p>Můžete si otestovat své stránky v <a href="http://gsnedders.html5.org/outliner/"><abbr>HTML5</abbr> Outlineru</a>, abyste si ověřili, že používáte nadpisové prvky správně.

<p class=a>&#x2767;

<h2 id=article-element>Články</h2>

<p>Pokračujeme s <a href=examples/blog-original.html>naší ukázkovou stránkou</a> a podíváme se, co se dá udělat s kódem:

<pre><code>&lt;div class="entry">
  &lt;p class="post-date">October 22, 2009&lt;/p>
  &lt;h2>
    &lt;a href="#"
       rel="bookmark"
       title="link to this post">
       Travel day
    &lt;/a>
  &lt;/h2>
  &hellip;
&lt;/div></code></pre>

<p>Opět se jedná o validní <abbr>HTML5</abbr>. Ale <abbr>HTML5</abbr> nabízí konkrétnější prvek pro běžný případ vyznačení článku na stránce&nbsp;&ndash; vhodně pojmenovaný prvek <code>&lt;article></code>.

<pre><code><mark>&lt;article></mark>
  &lt;p class="post-date">October 22, 2009&lt;/p>
  &lt;h2>
    &lt;a href="#"
       rel="bookmark"
       title="link to this post">
       Travel day
    &lt;/a>
  &lt;/h2>
  &hellip;
<mark>&lt;/article></mark></code></pre>

<p>Oh, ale není to až tak jednoduché. Měl bych udělat ještě jednu změnu. Nejdříve vám ji předvedu a potom vysvětlím:

<pre><code>&lt;article>
  &lt;header>
    &lt;p class="post-date">October 22, 2009&lt;/p>
    <mark>&lt;h1></mark>
      &lt;a href="#"
         rel="bookmark"
         title="link to this post">
         Travel day
      &lt;/a>
    <mark>&lt;/h1></mark>
  &lt;/header>
  &hellip;
&lt;/article></code></pre>

<p>Všimli jste si? Změnil jsem prvek <code>&lt;h2></code> na <code>&lt;h1></code> a zabalil jej do prvku <code>&lt;header></code>. Použití <code>&lt;header></code> už jste viděli. Jeho účelem je obalit všechny prvky tvořící nadpis článku (v tomto případě jeho datum vydání a titulek). Ale&hellip;ale&hellip;ale&hellip; neměl by být v každém dokumentu jen jeden <code>&lt;h1></code>? Nerozbije to osnovu dokumentu? Ne, ale abychom pochopili proč, musíme se trochu vrátit.

<p>V <abbr>HTML</abbr>&nbsp;4 byly <em>jedinou</em> cestou k vytvoření osnovy dokumentu prvky <code>&lt;h1></code>&ndash;<code>&lt;h6></code>. Pokud jste chtěli mít v osnově jediný kořen, museli jste se v kódu omezit na jediný <code>&lt;h1></code>. Ale specifikace <abbr>HTML5</abbr> <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#headings-and-sections>definuje algoritmus pro vytvoření osnovy dokumentu</a>, který zahrnuje i nové sémantické prvky jazyka. Algoritmus <abbr>HTML5</abbr> říká, že prvek <code>&lt;article></code> vytváří novou sekci, která je novým uzlem v osnově dokumentu. A každá sekce může mít v <abbr>HTML5</abbr> svůj vlastní prvek <code>&lt;h1></code>.

<p>Jedná se o drastickou změnu proti <abbr>HTML</abbr>&nbsp;4 a hned si řekneme, proč je k lepšímu. Mnohé webové stránky jsou generovány podle šablon. Z jednoho zdroje se vezme špetka obsahu o vloží sem do stránky, z jiného zdroje se vezme další trocha obsahu a vloží do stránky támhle. I mnohé návody jsou strukturovány stejně. &bdquo;Tady máte nějaký <abbr>HTML</abbr> kód. Prostě jej zkopírujte do své stránky.&ldquo; To je v pořádku pro malé části obsahu, ale co když vkládaný kód tvoří celý úsek? V tom případě návod obvykle obsahuje něco jako &bdquo;Tady máte nějaký <abbr>HTML</abbr> kód. Zkopírujte jej, vložte do textového editoru a opravte značky nadpisů tak, aby odpovídaly příslušné úrovni vnoření nadpisů na stránce, do níž kód vkládáte.&ldquo;

<p>Dovolte mi říci to jinak. <abbr>HTML</abbr>&nbsp;4 nemá žádný <em>obecný</em> prvek pro nadpisy. Má šest přesně číslovaných nadpisových prvků, <code>&lt;h1></code>&ndash;<code>&lt;h6></code>, které musí být vnořeny přesně v uvedeném pořadí. To je průšvih, zejména když je vaše stránka &bdquo;složena&ldquo;, nikoli &bdquo;napsána&ldquo;. A tento problém řeší <abbr>HTML5</abbr> novými prvky pro členění obsahu a novými pravidly pro stávající nadpisové prvky. Pokud používáte nové prvky pro členění, mohu vám nabídnout tento kód:

<pre><code>&lt;article>
  &lt;header>
    &lt;h1>A syndicated post&lt;/h1>
  &lt;/header>
  &lt;p>Lorem ipsum blah blah&hellip;&lt;/p>
&lt;/article></code></pre>

<p>a vy jej můžete zkopírovat a vložit beze změny <em>kamkoli do své stránky</em>. Skutečnost, že obsahuje prvek <code>&lt;h1></code>, ničemu nevadí, protože je celý obsažen uvnitř <code>&lt;article></code>. Prvek <code>&lt;article></code> definuje samostatný uzel v osnově dokumentu, prvek <code>&lt;h1></code> poskytuje titulek pro tento uzel a všechny ostatní prvky pro členění dokumentu na stránce zůstanou na stejné úrovni vnoření, na které byly předtím.

<div class=pf>
<h4>Professor Značka říká</h4>
<div class=inner>
<blockquote><p>Jako u všeho na webu je realita trochu složitější, než předstírám. Nové &bdquo;explicitní&ldquo; prvky pro členění dokumentu (jako <code>&lt;h1></code> zabalené do <code>&lt;article></code>) mohou nečekanými způsoby reagovat se starými &bdquo;implicitními&ldquo; prvky pro členění dokumentu (samotné <code>&lt;h1></code>&ndash;<code>&lt;h6></code>). Váš život bude jednodušší, pokud budete používat jedny nebo druhé, ale nikoli oboje zároveň. Pokud musíte na jedné stránce použít oboje, zkontrolujte si výsledek na <a href=http://gsnedders.html5.org/outliner/>the <abbr>HTML5</abbr> Outlineru</a>  a ověřte si, že osnova vašeho dokumentu dává smysl.
</blockquote>
</div>
</div>

<p class=a>&#x2767;

<h2 id=time-element>Datum a čas</h2>

<p class=ss style="float:left;margin:0 30px 0 0"><img src=i/openclipart.org_johnny_automatic_clock_tower.png width=205 height=378 alt="clock tower">

<p>Je to vzrušující, co? Podle mě není vzrušující sjet nahý na lyžích Mount Everest a recitovat při tom americkou hymnu, ale je pořádně vzrušující, jak daleko se dá dotáhnout sémantický kód. Pojďme pokračovat s naší <a href=examples/blog-original.html>ukázkovou stránkou</a>. Další řádek, na který se zaměřím, je tenhle:

<pre><code>&lt;div class="entry">
  <mark>&lt;p class="post-date">October 22, 2009&lt;/p></mark>
  &lt;h2>Travel day&lt;/h2>
&lt;/div></code></pre>

<p>Ten samý starý příběh, ne? Běžně používaný vzor&nbsp;&ndash; vyznačení data vydání článku&nbsp;&ndash;, který není podepřen žádnými sémantickými značkami, takže se autoři uchylují k obecným značkám s vlastními atributy <code>class</code>. Opět se jedná o validní <abbr>HTML5</abbr>. Nikdo po vás <em>nepožaduje</em> jeho změnu. Ale <abbr>HTML5</abbr> poskytuje řešení přímo na míru tomuto případu: prvek <code>&lt;time></code>.

<pre><code>&lt;time datetime="2009-10-22" pubdate>October 22, 2009&lt;/time></code></pre>

<p>Prvek <code>&lt;time></code> obsahuje tři části:

<ol>
<li>Strojově čitelnou časovou značku
<li>Textový obsah čitelný pro člověka
<li>Volitelný příznak <code>pubdate</code>
</ol>

<p>V tomto příkladu atribut <code>datetime</code> určuje pouze datum, nikoli čas. Jeho formátem je čtyřciferný rok, dvojciferný měsíc a dvojciferný den, vzájemně oddělené pomlčkami:

<pre><code>&lt;time <mark>datetime="2009-10-22"</mark> pubdate>October 22, 2009&lt;/time></code></pre>

<p>Pokud chcete zahrnout i čas, přidejte za datum písmeno <code>T</code>, za něj čas ve 24hodinovém formátu a za něj časové pásmo (posun času).

<pre><code>&lt;time datetime="<mark>2009-10-22T13:59:47-04:00</mark>" pubdate>
  October 22, 2009 1:59pm EDT
&lt;/time></code></pre>

<p>(Formát data a času je dost pružný. Specifikace <abbr>HTML5</abbr> <a href=http://www.whatwg.org/specs/web-apps/current-work/multipage/common-microsyntaxes.html#valid-global-date-and-time-string>obsahuje příklady validních řetězců pro data a časy</a>.)

<p>Všimněte si, že jsem změnil textový obsah mezi <code>&lt;time></code> a <code>&lt;/time></code>, aby odpovídal strojově čitelné značce. Ve skutečnosti to není povinné. Text může obsahovat cokoli chcete, dokud poskytnete strojově čitelnou značku v atributu <code>datetime</code>. Takže toto je validní <abbr>HTML5</abbr>:

<pre><code>&lt;time datetime="2009-10-22"><mark>minulý čtvrtek</mark>&lt;/time></code></pre>

<p>I tohle je validní <abbr>HTML5</abbr>:

<pre><code>&lt;time datetime="2009-10-22">&lt;/time></code></pre>

<p>Posledním kouskem skládačky je atribut <code>pubdate</code>. Je to booleovský atribut, takže jej stačí jednoduše přidat, když jej potřebujete. Asi takto:

<pre><code>&lt;time datetime="2009-10-22" <mark>pubdate</mark>>October 22, 2009&lt;/time></code></pre>

<p>Nemáte-li rádí &bdquo;holé&ldquo; atributy, tento zápis je ekvivalentní:

<pre><code>&lt;time datetime="2009-10-22" <mark>pubdate="pubdate"</mark>>October 22, 2009&lt;/time></code></pre>

<p>Co atribut <code>pubdate</code> znamená? Jednu ze dvou věcí. Pokud se prvek <code>&lt;time></code> vyskytuje uvnitř prvku <code>&lt;article></code>, znamená, že tato časová značka představuje datum vydání článku. Pokud se prvek <code>&lt;time></code> nachází mimo <code>&lt;article></code>, znamená, že časová značka je datem vydání celého dokumentu.

<p>Tady máme celý článek, upravený tak, aby využíval všechny výhody <abbr>HTML5</abbr>:

<pre><code>&lt;article>
  &lt;header>
    &lt;time datetime="2009-10-22" pubdate>
      October 22, 2009
    &lt;/time>
    &lt;h1>
      &lt;a href="#"
         rel="bookmark"
         title="link to this post">
         Travel day
      &lt;/a>
    &lt;/h1>
  &lt;/header>
  &lt;p>Lorem ipsum dolor sit amet&hellip;&lt;/p>
&lt;/article></code></pre>

<p class=a>&#x2767;

<h2 id=nav-element>Navigace</h2>

<p class=ss><img src=i/openclipart.org_johnny_automatic_a_pink.png alt="a man navigating a sailboat on the water" width=345 height=377>

<p>Jednou z nejdůležitějších částí každého webu je navigační lišta. CNN.com má na každé stránce nahoře &bdquo;záložky&ldquo;, které odkazují na různé zpravodajské sekce&nbsp;&ndash; &bdquo;Technika&ldquo;, &bdquo;Zdraví&ldquo;, &bdquo;Sport&ldquo;&nbsp;atd. Stránka s výsledky hledání na Google obsahuje nahoře podobný proužek, který vám umožňuje vyhledávat v různých službách Google&nbsp;&ndash; &bdquo;Obrázky&ldquo;, &bdquo;Videa&ldquo;, &bdquo;Mapy&ldquo;&nbsp;atd. A <a href=examples/blog-original.html>naše ukázková stránka</a> má v záhlaví navigační lištu, která obsahuje odkazy na různé části hypotetického webu&nbsp;&ndash; &bdquo;domů&ldquo;, &bdquo;blog&ldquo;, &bdquo;galerie&ldquo; a &bdquo;o nás&ldquo;.

<p>Kód této navigační lišty původně vypadal takto:

<pre><code>&lt;div id="nav">
  &lt;ul>
    &lt;li>&lt;a href="#">home&lt;/a>&lt;/li>
    &lt;li>&lt;a href="#">blog&lt;/a>&lt;/li>
    &lt;li>&lt;a href="#">gallery&lt;/a>&lt;/li>
    &lt;li>&lt;a href="#">about&lt;/a>&lt;/li>
  &lt;/ul>
&lt;/div></code></pre>

<p>Zase se jedná o validní <abbr>HTML5</abbr>. Ale i když ji kód definuje jako seznam se čtyřmi položkami, nic v tomto seznamu neříká, že se jedná o součást navigace webu. Vizuálně to můžete odhadnout podle umístění v záhlaví stránky a podle textu odkazů. Ale sémanticky neexistuje nic, co by tento seznam odkazů odlišilo od jakéhokoli jiného.

<p>Koho zajímá sémantika navigace webu? Za prvé <a href=http://diveintoaccessibility.org/>handicapované uživatele</a>. Proč? Zvažte tento scénář: máte omezenou pohyblivost a je pro vás obtížné nebo nemožné používat myš. Abyste ji nahradili, můžete nasadit rozšíření prohlížeče, které vám umožní přeskočit na hlavní navigační odkazy. Nebo uvažte tohle: pokud špatně vidíte, mohli byste používat specializovaný program zvaný &bdquo;čtečka obrazovky&ldquo;, který převádí text na mluvené slovo a předčítá webové stránky. Jakmile se dostanete přes nadpis stránky, další zajímavou informací jsou hlavní navigační odkazy. Pokud spěcháte s navigací, nařídíte čtečce obrazovky, aby skočila na hlavní navigační pruh a začala číst. Když chcete co nejdříve procházet obsah, můžete čtečce poručit, aby <em>přeskočila</em> hlavní navigaci a začala číst hlavní text. Ať tak či tak, schopnost programově rozpoznat navigační odkazy je důležitá.

<p>I když na používání <code>&lt;div id="nav"></code> k vyznačení navigace není nic špatného, není na tom ani nic mimořádně pěkného. Je to neoptimální z hlediska dopadů na skutečné lidi. <abbr>HTML5</abbr> nabízí sémantický způsob, jak vyznačit navigační části: prvek <code>&lt;nav></code>.

<pre><code><mark>&lt;nav></mark>
  &lt;ul>
    &lt;li>&lt;a href="#">home&lt;/a>&lt;/li>
    &lt;li>&lt;a href="#">blog&lt;/a>&lt;/li>
    &lt;li>&lt;a href="#">gallery&lt;/a>&lt;/li>
    &lt;li>&lt;a href="#">about&lt;/a>&lt;/li>
  &lt;/ul>
<mark>&lt;/nav></mark></code></pre>

<div class=pf>
<h4>Zeptejte se profesora Značky</h4>
<div class=inner>
<blockquote class=note>
<p><span>&#x261E;</span>OT: Jsou <a href=http://www.webaim.org/techniques/skipnav/>přeskakující odkazy</a> kompatibilní s prvkem <code>&lt;nav></code>? Budu v <abbr>HTML5</abbr> ještě potřebovat přeskakování odkazů?
<p>OT: Přeskakující odkazy umožňují čtečkám přeskočit navigační části. Jsou užitečné pro handicapované uživatele, kteří používají software pro hlasové čtení stránek a navigují bez myši. (<a href=http://www.webaim.org/techniques/skipnav/>Naučte se poskytovat přeskakující odkazy</a>.)
<p>Jakmile budou čtečky aktualizovány a naučí se rozpoznávat prvek <code>&lt;nav></code>, přeskakující odkazy zastarají, protože čtecí program bude schopen automaticky nabídnout přeskočení navigační sekce označené prvkem <code>&lt;nav></code>. Nicméně nějakou dobu potrvá než všichni handicapovaní uživatelé webu přejdou na čtecí programy podporující <abbr>HTML5</abbr>, takže byste zatím měli poskytovat vlastní odkazy pro přeskočení <code>&lt;nav></code> sekcí.
</blockquote>
</div>
</div>

<p class=a>&#x2767;

<h2 id=footer-element>Patičky</h2>

<p>Konečně jsme dorazili na závěr naší <a href=examples/blog-original.html>ukázkové stránky</a>.  Poslední věc, o které chci mluvit, je poslední věc na stránce: patička. Její kód původně vypadal takhle:

<pre><code>&lt;div id="footer">
  &lt;p>&amp;#167;&lt;/p>
  &lt;p>&amp;#169; 2001&amp;#8211;9 &lt;a href="#">Mark Pilgrim&lt;/a>&lt;/p>
&lt;/div></code></pre>

<p>Je to <abbr>HTML5</abbr>. Pokud se vám líbí, můžete si jej nechat. Ale <abbr>HTML5</abbr> poskytuje specifičtější prvek pro tento účel: prvek <code>&lt;footer></code>.

<pre><code><mark>&lt;footer></mark>
  &lt;p>&amp;#167;&lt;/p>
  &lt;p>&amp;#169; 2001&amp;#8211;9 &lt;a href="#">Mark Pilgrim&lt;/a>&lt;/p>
<mark>&lt;/footer></mark></code></pre>

<p>Co je vhodné zařadit do prvku <code>&lt;footer></code>? Pravděpodobně vše, co dnes vkládáte do <code>&lt;div id="footer"></code>. Dobře, je to definice kruhem. Ale právě takhle se věci mají. Specifikace <abbr>HTML5</abbr> říká: &bdquo;Patička typicky obsahuje informace o daném úseku, jako kdo jej napsal, odkazy na související dokumenty, autorská práva a podobně.&ldquo; Na naší ukázkové stránce tam máme krátké vyjádření autorských práv a odkaz na stránku o autorovi. Když se rozhlédnu po pár populárních webech, vidím značný potenciál patiček.

<ul>
<li><a href=http://www.cnn.com/>CNN</a> má patičku obsahující autorská práva, odkazy na překlady a odkazy na podmínky použití, ochranu soukromí, &bdquo;o nás&ldquo;, &bdquo;kontaktujte nás&ldquo; a stránky s &bdquo;nápovědou&ldquo;. Vše zcela vhodný materiál pro <code>&lt;footer></code>.
<li><a href=http://www.google.com/>Google</a> se proslavil úspornou domácí stránkou, ale v její spodní části jsou odkazy &bdquo;Inzerujte s Googlem&ldquo;, &bdquo;Řešení pro podnikatele&ldquo; a &bdquo;Vše o Googlu&ldquo;, autorská práva a odkaz na pravidla ochrany soukromí. To vše by mohlo být zabaleno do <code>&lt;footer></code>.
<li><a href=http://diveintomark.org/>Můj weblog</a> má patičku s odkazy na mé ostatní weby a informacemi o autorských právech. Rozhodně vhodné pro <code>&lt;footer></code>. (Všimněte si, že vlastní odkazy by <em>neměly</em> být zabaleny do <code>&lt;nav></code>, protože se nejedná o navigaci v rámci webu; je to jen sada odkazů na mé další projekty a jiné weby.)
</ul>

<p>V současnosti se všichni zbláznili do &bdquo;<a href=http://ui-patterns.com/pattern/FatFooter>tučných patiček</a>&ldquo;. Podívejte se na patičku <a href=http://www.w3.org/>webu <abbr>W3C</abbr></a>. Obsahuje tři sloupce, nadepsané &bdquo;Navigace&ldquo;, &bdquo;Kontaktujte W3C&ldquo; a &bdquo;W3C aktuality&ldquo;. Její kód vypadá víceméně takto:

<pre><code>&lt;div id="w3c_footer">
  &lt;div class="w3c_footer-nav">
    &lt;h3>Navigation&lt;/h3>
    &lt;ul>
      &lt;li>&lt;a href="/">Home&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/standards/">Standards&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/participate/">Participate&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/Consortium/membership">Membership&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/Consortium/">About W3C&lt;/a>&lt;/li> 
    &lt;/ul>
  &lt;/div>
  &lt;div class="w3c_footer-nav">
    &lt;h3>Contact W3C&lt;/h3>
    &lt;ul>
      &lt;li>&lt;a href="/Consortium/contact">Contact&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/Help/">Help and FAQ&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/Consortium/sup">Donate&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/Consortium/siteindex">Site Map&lt;/a>&lt;/li> 
    &lt;/ul>
  &lt;/div>
  &lt;div class="w3c_footer-nav">
    &lt;h3>W3C Updates&lt;/h3>
    &lt;ul>
      &lt;li>&lt;a href="http://twitter.com/W3C">Twitter&lt;/a>&lt;/li>
      &lt;li>&lt;a href="http://identi.ca/w3c">Identi.ca&lt;/a>&lt;/li>
    &lt;/ul>
  &lt;/div>
  &lt;p class="copyright">Copyright &copy; 2009 W3C&lt;/p>
&lt;/div></code></pre>

<p>Udělal bych následující změny, abych jej převedl do sémantického <abbr>HTML5</abbr>:

<ul>
<li>Převedl bych obalující <code>&lt;div id="w3c_footer"></code> na prvek <code>&lt;footer></code>.
<li>Převedl bych první dva výskyty <code>&lt;div class="w3c_footer-nav"></code> na prvky <code>&lt;nav></code> a třetí výskyt na prvek <code>&lt;section></code>.
<li>Převedl bych nadpisy <code>&lt;h3></code> na <code>&lt;h1></code>, protože se nyní všechny nacházejí uvnitř prvků pro členění dokumentu. Prvek <code>&lt;nav></code> vytváří sekci v osnově dokumentu, stejně jako <a href=#article-element>prvek <code>&lt;article></code></a>.
</ul>

<p>Výsledný kód by mohl vypadat nějak takhle:

<pre><code><mark>&lt;footer></mark>
  <mark>&lt;nav></mark>
    <mark>&lt;h1></mark>Navigation<mark>&lt;/h1></mark>
    &lt;ul>
      &lt;li>&lt;a href="/">Home&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/standards/">Standards&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/participate/">Participate&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/Consortium/membership">Membership&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/Consortium/">About W3C&lt;/a>&lt;/li> 
    &lt;/ul>
  <mark>&lt;/nav></mark>
  <mark>&lt;nav></mark>
    <mark>&lt;h1></mark>Contact W3C<mark>&lt;/h1></mark>
    &lt;ul>
      &lt;li>&lt;a href="/Consortium/contact">Contact&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/Help/">Help and FAQ&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/Consortium/sup">Donate&lt;/a>&lt;/li> 
      &lt;li>&lt;a href="/Consortium/siteindex">Site Map&lt;/a>&lt;/li> 
    &lt;/ul>
  <mark>&lt;/nav></mark>
  <mark>&lt;section></mark>
    <mark>&lt;h1></mark>W3C Updates<mark>&lt;/h1></mark>
    &lt;ul>
      &lt;li>&lt;a href="http://twitter.com/W3C">Twitter&lt;/a>&lt;/li>
      &lt;li>&lt;a href="http://identi.ca/w3c">Identi.ca&lt;/a>&lt;/li>
    &lt;/ul>
  <mark>&lt;/section></mark>
  &lt;p class="copyright">Copyright &copy; 2009 W3C&lt;/p>
<mark>&lt;/footer></mark></code></pre>

<p class=a>&#x2767;

<h2 id=further-reading>Doplňkové čtivo</h2>

<p>Ukázkové stránky používané v této kapitole:

<ul>
<li><a href=examples/blog-original.html>Původní (<abbr>HTML</abbr> 4)</a>
<li><a href=examples/blog-html5.html>Upravená (<abbr>HTML5</abbr>)</a>
</ul>

<p>O kódování znaků:

<ul>
<li><a href="http://www.joelonsoftware.com/articles/Unicode.html">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</a>, napsal <cite>Joel Spolsky</cite>
<li><a href="http://www.tbray.org/ongoing/When/200x/2003/04/06/Unicode">On the Goodness of Unicode</a>, <a href="http://www.tbray.org/ongoing/When/200x/2003/04/13/Strings">On Character Strings</a>, a <a href="http://www.tbray.org/ongoing/When/200x/2003/04/26/UTF">Characters vs. Bytes</a>, napsal <cite>Tim Bray</cite>
</ul>

<p>O zpřístupnění nového <abbr>HTML5</abbr> v Internet Exploreru:

<ul>
<li><a href=http://xopus.com/devblog/2008/style-unknown-elements.html>How to style unknown elements in IE</a>, napsal <cite>Sjoerd Visscher</cite>
<li><a href=http://ejohn.org/blog/html5-shiv/><abbr>HTML5</abbr> shiv</a>, napsal <cite>John Resig</cite>
<li><a href=http://remysharp.com/2009/01/07/html5-enabling-script/><abbr>HTML5</abbr> enabling script</a>, napsal <cite>Remy Sharp</cite>
</ul>

<p>O standardních režimech a zkoumání typu dokumentu:

<ul>
<li><a href=http://hsivonen.iki.fi/doctype/>Activating Browser Modes with Doctype</a>, napsal <cite>Henri Sivonen</cite>. Jediný článek, který byste si na toto téma měli přečíst. Jakýkoli článek o typech dokumentů, který se neodkazuje na Henriho práci, je zaručeně zastaralý, neúplný nebo špatný.
</ul>

<p>Validátor znalý <abbr>HTML5</abbr>:

<ul>
<li><a href=http://html5.validator.nu/>html5.validator.nu</a>
</ul>

<p class=a>&#x2767;

<p>Dočetli jste kapitolu &bdquo;Co to všechno znamená?&ldquo; Pokud chcete pokračovat, přejděte na <a href=table-of-contents.html>celý obsah knihy</a>.

<div class=pf>
<h4>Víte že?</h4>
<div class=moneybags>
<blockquote><p>O&#8217;Reilly spolu s Google Press nabízí anglickou verzi této knihy v řadě formátů včetně tištěné pdoby, ePub, Mobi a <abbr>DRM</abbr>-free <abbr>PDF</abbr>. Placená verze se nazývá &#8222;HTML5: Up &amp; Running,&#8220; a můžete ji mít ihned. Obsahuje i tuto kapitolu.
<p>Pokud se vám tahle kapitola líbila a chcete autora anglického originálu podpořit, <a href="http://www.amazon.com/HTML5-Up-Running-Mark-Pilgrim/dp/0596806027?ie=UTF8&amp;tag=diveintomark-20&amp;creativeASIN=0596806027">kupte si &#8222;HTML5: Up &amp; Running&#8220; skrze tento spřátelený odkaz</a> nebo <a href=http://oreilly.com/catalog/9780596806033>elektronickou verzi přímo od O&#8217;Reilly</a>. Vy dostanete knihu, já peníze. V současnosti nepřijímám přímé dary.
</blockquote>
</div>
</div>

<p class=c>Copyright MMIX&ndash;MMXI <a href=about.html>Mark Pilgrim</a>

<form action=http://www.google.com/cse><div><input type=hidden name=cx value=013556084273090989037:f1s-wnbz68q><input type=hidden name=ie value=UTF-8><input type=search name=q size=25 placeholder="powered by Google&trade;">&nbsp;<input type=submit name=sa value=Hledat></div></form>
<script src=j/jquery.js></script>
<script src=j/dih5.js></script>

<script type="text/javascript"><!--
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25728182-1']);
  _gaq.push(['_setDomainName', '.html5.cz']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
// --></script>

